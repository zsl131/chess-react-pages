webpackJsonp([45],{KbRu:function(t,e,a){"use strict";function n(t){return Object(f.a)("wxAccountService.list",y()(t),!0)}function r(t){return Object(f.a)("wxAccountService.updateType",y()(t),!0)}function c(t){return Object(f.a)("wxAccountService.updateAccount",y()(t),!0)}Object.defineProperty(e,"__esModule",{value:!0});var u=(a("4e87"),a("PIoE")),s=a("Tv2M"),o=a.n(s),i=a("9qwy"),p=a.n(i),d=a("JIQ1"),y=a.n(d),f=a("vLgD");e.default={namespace:"wxAccount",state:{datas:[],totalElements:0,item:{}},reducers:{modifyState:function(t,e){var a=e.payload;return p()({},t,a)},updateTypePage:function(t,e){var a=e.payload,n=t.datas.map(function(t){return t.id===a.record.id&&(t.type=a.type),t});return p()({},t,{datas:n})},onSynchPage:function(t,e){var a=e.payload,n=t.datas.map(function(t){return t.id===a.id&&(t=a),t});return p()({},t,{datas:n})}},effects:{index:o.a.mark(function t(e,a){var r,c,u,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload,c=a.call,u=a.put,t.next=4,c(n,r);case 4:return s=t.sent,t.next=7,u({type:"modifyState",payload:{datas:s.datas,totalElements:s.size}});case 7:case"end":return t.stop()}},t,this)}),updateType:o.a.mark(function t(e,a){var n,c,s,i,p,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,c=a.call,s=a.put,i=n.record,p=n.type,t.next=6,c(r,{id:i.id,type:p});case 6:return d=t.sent,t.next=9,s({type:"updateTypePage",payload:n});case 9:d&&u.a.success(d.datas);case 10:case"end":return t.stop()}},t,this)}),onSynch:o.a.mark(function t(e,a){var n,r,s,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,s=a.put,t.next=4,r(c,{id:n.id});case 4:return i=t.sent,i&&u.a.success("\u540c\u6b65\u6210\u529f"),t.next=8,s({type:"onSynchPage",payload:i.datas});case 8:case"end":return t.stop()}},t,this)})},subscriptions:{setup:function(t){var e=t.history,a=t.dispatch;return e.listen(function(t){"/admin/wxAccount"===t.pathname&&a({type:"index",payload:t.query})})}}}}});