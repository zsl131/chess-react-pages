webpackJsonp([8],{ZLHJ:function(e,t,a){"use strict";function r(e){return Object(b.a)("activityService.list",h()(e),!0)}function n(e){return Object(b.a)("activityService.loadOne",h()(e),!0)}function c(e){return e.status=e.status&&void 0!==e.status?"1":"0",Object(b.a)("activityService.addOrUpdate",h()(e),!0,{method:"POST"})}function i(e){return Object(b.a)("activityService.delete",h()(e),!0)}function s(){var e=JSON.parse(sessionStorage.getItem("loginUser"));return Object(b.a)("activityService.listDep",h()({userId:e.id}),!0)}function o(e){return Object(b.a)("activityRecordService.listRecord",e,!0)}function d(e){return Object(b.a)("activityRecordService.addOrUpdate",e,!0)}function u(e){return Object(b.a)("activityRecordService.deleteObj",e,!0)}function p(e){return Object(b.a)("activityRecordService.loadOne",e,!0)}Object.defineProperty(t,"__esModule",{value:!0});var l=(a("4Tli"),a("ViPt")),v=a("Tv2M"),y=a.n(v),f=a("9qwy"),x=a.n(f),m=a("JIQ1"),h=a.n(m),b=a("vLgD");t.default={namespace:"activity",state:{datas:[],item:{},totalElements:0,addVisible:!1,updateVisible:!1,depList:[],showVisible:!1,recordList:[],addRecordVisible:!1,updateRecordVisible:!1,recordItem:{}},reducers:{modifyState:function(e,t){var a=t.payload;return x()({},e,a)},indexPage:function(e,t){var a=t.payload;return x()({},e,{datas:a.datas,totalElements:a.size})},updatePage:function(e,t){var a=t.payload;return x()({},e,{item:a.obj,updateVisible:!0})},activityRecordPage:function(e,t){var a=t.payload.data;return x()({},e,{item:a.activity,recordList:a.list})},onUpdateRecordPage:function(e,t){var a=t.payload;return x()({},e,{recordItem:a.record,updateRecordVisible:!0})}},effects:{index:y.a.mark(function e(t,a){var n,c,i,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,c=a.call,i=a.put,e.next=4,c(r,n);case 4:return s=e.sent,e.next=7,i({type:"indexPage",payload:s});case 7:case"end":return e.stop()}},e,this)}),addOrUpdate:y.a.mark(function e(t,a){var r,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,e.next=4,n(c,r);case 4:case"end":return e.stop()}},e,this)}),deleteObj:y.a.mark(function e(t,a){var r,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,e.next=4,n(i,{id:r});case 4:case"end":return e.stop()}},e,this)}),onAdd:y.a.mark(function e(t,a){var r,n,c,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(s);case 4:return i=e.sent,e.next=7,c({type:"modifyState",payload:{depList:i.datas,addVisible:!0}});case 7:case"end":return e.stop()}},e,this)}),onUpdate:y.a.mark(function e(t,a){var r,c,i,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,c=a.call,i=a.put,e.next=4,c(n,{id:r});case 4:return s=e.sent,e.next=7,i({type:"updatePage",payload:s});case 7:case"end":return e.stop()}},e,this)}),onShow:y.a.mark(function e(t,a){var r,c,i,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,c=a.call,i=a.put,e.next=4,c(n,{id:r});case 4:return s=e.sent,e.next=7,i({type:"modifyState",payload:{item:s.obj,showVisible:!0}});case 7:case"end":return e.stop()}},e,this)}),activityRecord:y.a.mark(function e(t,a){var r,n,c,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(o,r);case 4:return i=e.sent,e.next=7,c({type:"activityRecordPage",payload:{actId:r.actId,data:i}});case 7:case"end":return e.stop()}},e,this)}),addOrUpdateRecord:y.a.mark(function e(t,a){var r,n,c,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(d,r);case 4:return i=e.sent,e.next=7,c({type:"addOrUpdateRecordPage",payload:i});case 7:case"end":return e.stop()}},e,this)}),deleteRecord:y.a.mark(function e(t,a){var r,n,c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,e.next=4,n(u,{id:r});case 4:c=e.sent,c&&l.a.success(c.message);case 6:case"end":return e.stop()}},e,this)}),onUpdateRecord:y.a.mark(function e(t,a){var r,n,c,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(p,{id:r});case 4:if(!(i=e.sent)){e.next=8;break}return e.next=8,c({type:"onUpdateRecordPage",payload:i});case 8:case"end":return e.stop()}},e,this)})},subscriptions:{setupt:function(e){var t=e.history,a=e.dispatch;return t.listen(function(e){var t=e.pathname;"/admin/activity"===t&&a({type:"index",payload:e.query}),"/admin/activity/record"===t&&a({type:"activityRecord",payload:e.query})})}}}}});