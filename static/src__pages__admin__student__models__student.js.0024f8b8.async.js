webpackJsonp([65],{VvLF:function(e,t,a){"use strict";function n(e){return Object(f.a)("studentService.list",e,!0)}function s(e){return Object(f.a)("studentService.addStudentOnly",e,!0)}function r(e){return console.log(e),Object(f.a)("studentService.deleteObj",e,!0)}function c(e){return Object(f.a)("studentService.updateObj",e,!0)}function u(e){return Object(f.a)("studentService.loadObj",e,!0)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a("4Tli"),a("ViPt")),o=a("Tv2M"),d=a.n(o),l=a("9qwy"),p=a.n(l),f=a("vLgD");t.default={namespace:"student",state:{datas:[],totalElements:0,addVisible:!1,updateVisible:!1,item:{},ageList:[],schoolList:[]},reducers:{modifyState:function(e,t){var a=t.payload;return p()({},e,a)}},effects:{list:d.a.mark(function e(t,a){var s,r,c,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,r=a.call,c=a.put,e.next=4,r(n,s);case 4:return u=e.sent,e.next=7,c({type:"modifyState",payload:{datas:u.datas,totalElements:u.size,ageList:u.ageList,schoolList:u.schoolList}});case 7:case"end":return e.stop()}},e,this)}),addStudent:d.a.mark(function e(t,a){var n,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,e.next=4,r(s,n);case 4:c=e.sent,c&&i.a.success("\u6dfb\u52a0\u6210\u529f");case 6:case"end":return e.stop()}},e,this)}),deleteObj:d.a.mark(function e(t,a){var n,s,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,e.next=4,s(r,{id:n});case 4:c=e.sent,c&&i.a.success(c.message);case 6:case"end":return e.stop()}},e,this)}),updateObj:d.a.mark(function e(t,a){var n,s,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,e.next=4,s(c,n);case 4:r=e.sent,r&&i.a.success("\u4fee\u6539\u6210\u529f");case 6:case"end":return e.stop()}},e,this)}),loadObj:d.a.mark(function e(t,a){var n,s,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,r=a.put,e.next=4,s(u,{id:n});case 4:if(!(c=e.sent)){e.next=8;break}return e.next=8,r({type:"modifyState",payload:{item:c.obj}});case 8:case"end":return e.stop()}},e,this)})},subscriptions:{setup:function(e){var t=e.history,a=e.dispatch;return t.listen(function(e){"/admin/student"===e.pathname&&a({type:"list",payload:e.query})})}}}}});