webpackJsonp([67],{dMNh:function(e,t,a){"use strict";function r(e){return Object(y.a)("departmentService.list",v()(e),!0)}function n(e){return Object(y.a)("departmentService.addOrUpdate",v()(e),!0)}function s(e){return Object(y.a)("departmentService.delete",v()(e),!0)}function c(e){return Object(y.a)("departmentService.loadOne",v()(e),!0)}function u(e){return Object(y.a)("departmentService.loadAuthUser",v()(e),!0)}function i(e){return Object(y.a)("departmentService.setDepUser",v()(e),!0)}Object.defineProperty(t,"__esModule",{value:!0});var d=(a("4Tli"),a("ViPt")),o=a("Tv2M"),p=a.n(o),l=a("9qwy"),f=a.n(l),m=a("JIQ1"),v=a.n(m),y=a("vLgD");t.default={namespace:"department",state:{datas:[],totalElements:0,item:[],addVisible:!1,updateVisible:!1,setUserVisible:!1,userList:[],userIds:[]},reducers:{indexPage:function(e,t){var a=t.payload;return f()({},e,{datas:a.datas,totalElements:a.size})},modifyState:function(e,t){var a=t.payload;return f()({},e,a)},updatePage:function(e,t){var a=t.payload;return f()({},e,{item:a.obj,updateVisible:!0})}},effects:{index:p.a.mark(function e(t,a){var n,s,c,u;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,c=a.put,e.next=4,s(r,n);case 4:return u=e.sent,e.next=7,c({type:"indexPage",payload:u});case 7:case"end":return e.stop()}},e,this)}),addOrUpdate:p.a.mark(function e(t,a){var r,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,s=a.call,e.next=4,s(n,r);case 4:case"end":return e.stop()}},e,this)}),deleteObj:p.a.mark(function e(t,a){var r,n,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,e.next=4,n(s,{id:r});case 4:c=e.sent,c&&d.a.success(c.message);case 6:case"end":return e.stop()}},e,this)}),onUpdate:p.a.mark(function e(t,a){var r,n,s,u;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(c,{id:r});case 4:return u=e.sent,e.next=7,s({type:"updatePage",payload:u});case 7:case"end":return e.stop()}},e,this)}),onSetUser:p.a.mark(function e(t,a){var r,n,s,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(u,{depId:r.id});case 4:return c=e.sent,e.next=7,s({type:"modifyState",payload:{setUserVisible:!0,userList:c.obj.userList,userIds:c.obj.userIds,item:r}});case 7:case"end":return e.stop()}},e,this)}),setAuthUser:p.a.mark(function e(t,a){var r,n,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,e.next=4,n(i,r);case 4:return s=e.sent,e.next=7,d.a.success(s.message);case 7:case"end":return e.stop()}},e,this)})},subscriptions:{setupt:function(e){var t=e.history,a=e.dispatch;return t.listen(function(e){"/admin/department"===e.pathname&&a({type:"index",payload:e.query})})}}}}});