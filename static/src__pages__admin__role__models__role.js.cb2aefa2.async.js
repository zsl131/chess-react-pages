webpackJsonp([40],{Mjav:function(e,t,n){"use strict";function r(e){return Object(l.a)("menuService.listRoot",o()(e),!0)}function a(e){return Object(l.a)("menuService.listChildren",o()(e),!0)}function u(e){return Object(l.a)("menuService.update",o()(e),!0)}function s(){return Object(l.a)("menuService.init",o()({}),!0)}function c(e){return Object(l.a)("menuService.delete",o()(e),!0)}n.d(t,"d",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var i=n("JIQ1"),o=n.n(i),l=n("vLgD")},"fl/w":function(e,t,n){"use strict";function r(e){return Object(y.a)("roleService.list",b()(e),!0)}function a(e){return Object(y.a)("roleService.add",b()(e),!0)}function u(e){return Object(y.a)("roleService.update",b()(e),!0)}function s(e){return Object(y.a)("roleService.delete",b()(e),!0)}function c(e){return Object(y.a)("roleService.loadOne",b()(e),!0)}function i(e){return Object(y.a)("roleService.listRoleMenuIds",b()(e),!0)}function o(e){return Object(y.a)("roleService.authMenu",b()(e),!0)}Object.defineProperty(t,"__esModule",{value:!0});var l=(n("4Tli"),n("ViPt")),d=n("Tv2M"),p=n.n(d),f=n("9qwy"),v=n.n(f),m=n("JIQ1"),b=n.n(m),y=n("vLgD"),h=n("Mjav");t.default={namespace:"role",state:{datas:[],item:{},menuTree:[],menuList:[],menuElements:0,totalElements:0,addVisible:!1,updateVisible:!1,matchMenuVisible:!1,curRole:[],curAuthMenu:[]},reducers:{list:function(e,t){var n=t.payload;return v()({},e,{datas:n.datas,totalElements:n.size})},setModalVisible:function(e,t){var n=t.payload;return v()({},e,n)},updateItem:function(e,t){var n=t.payload;return v()({},e,{updateVisible:!0,item:n})},showMenus:function(e,t){var n=t.payload;return v()({},e,{menuTree:n.treeList,menuElements:n.menuList.length,menuList:n.menuList,matchMenuVisible:!0})}},effects:{listObj:p.a.mark(function e(t,n){var a,u,s,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,u=n.call,s=n.put,e.next=4,u(r,a);case 4:return c=e.sent,e.next=7,s({type:"list",payload:c});case 7:case"end":return e.stop()}},e,this)}),addRole:p.a.mark(function e(t,n){var r,u,s,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,u=n.call,s=n.put,e.next=4,u(a,r);case 4:if(!(c=e.sent)){e.next=8;break}return e.next=8,s({type:"setModalVisible",payload:{addVisible:!1}});case 8:case"end":return e.stop()}},e,this)}),deleteObj:p.a.mark(function e(t,n){var r,a,u,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,u=n.put,e.next=4,a(s,{id:r});case 4:c=e.sent,c&&l.a.success(c.message);case 6:case"end":return e.stop()}},e,this)}),update:p.a.mark(function e(t,n){var r,a,u,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,u=n.put,e.next=4,a(c,{id:r});case 4:if(!(s=e.sent)){e.next=10;break}return e.next=8,u({type:"updateItem",payload:s.datas});case 8:e.next=11;break;case 10:l.a.error("\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u6570\u636e");case 11:case"end":return e.stop()}},e,this)}),updateRole:p.a.mark(function e(t,n){var r,a,s,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,e.next=4,a(u,r);case 4:c=e.sent,c&&l.a.success("\u4fee\u6539\u6210\u529f");case 6:case"end":return e.stop()}},e,this)}),queryMenus:p.a.mark(function e(t,n){var r,a,u,s,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,u=n.call,e.next=4,u(h.d,r);case 4:return s=e.sent,e.next=7,u(i,r);case 7:return c=e.sent,e.next=10,a({type:"setModalVisible",payload:{curAuthMenu:c.datas}});case 10:return e.next=12,a({type:"showMenus",payload:s.datas});case 12:case"end":return e.stop()}},e,this)}),authMenu:p.a.mark(function e(t,n){var r,a,u;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,e.next=4,a(o,r);case 4:u=e.sent,l.a.success(u.message);case 6:case"end":return e.stop()}},e,this)})},subscriptions:{setup:function(e){var t=e.history,n=e.dispatch;return t.listen(function(e){"/admin/role"===e.pathname&&n({type:"listObj",payload:e.query})})}}}}});