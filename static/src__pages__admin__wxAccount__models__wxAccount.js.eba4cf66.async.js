webpackJsonp([63],{KbRu:function(t,e,a){"use strict";function n(t){return Object(l.a)("wxAccountService.list",f()(t),!0)}function r(t){return Object(l.a)("wxAccountService.updateType",f()(t),!0)}function c(t){return Object(l.a)("wxAccountService.updateAccount",f()(t),!0)}Object.defineProperty(e,"__esModule",{value:!0});var s=(a("4Tli"),a("ViPt")),u=a("Tv2M"),o=a.n(u),i=a("9qwy"),p=a.n(i),d=a("JIQ1"),f=a.n(d),l=a("vLgD");e.default={namespace:"wxAccount",state:{datas:[],totalElements:0,item:{}},reducers:{modifyState:function(t,e){var a=e.payload;return p()({},t,a)},onSynchPage:function(t,e){var a=e.payload,n=t.datas.map(function(t){return t.id===a.id&&(t=a),t});return p()({},t,{datas:n})}},effects:{index:o.a.mark(function t(e,a){var r,c,s,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload,c=a.call,s=a.put,t.next=4,c(n,r);case 4:return u=t.sent,t.next=7,s({type:"modifyState",payload:{datas:u.datas,totalElements:u.size}});case 7:case"end":return t.stop()}},t,this)}),updateType:o.a.mark(function t(e,a){var n,c,u,i,p,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,c=a.call,u=a.put,i=n.record,p=n.type,t.next=6,c(r,{id:i.id,type:p});case 6:d=t.sent,d&&s.a.success(d.message);case 8:case"end":return t.stop()}},t,this)}),onSynch:o.a.mark(function t(e,a){var n,r,u,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,u=a.put,t.next=4,r(c,{id:n.id});case 4:return i=t.sent,i&&s.a.success("\u540c\u6b65\u6210\u529f"),t.next=8,u({type:"onSynchPage",payload:i.datas});case 8:case"end":return t.stop()}},t,this)})},subscriptions:{setup:function(t){var e=t.history,a=t.dispatch;return e.listen(function(t){"/admin/wxAccount"===t.pathname&&a({type:"index",payload:t.query})})}}}}});